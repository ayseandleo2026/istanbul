<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ayse & Leonardo · 12 June 2026 · Istanbul</title>
  <meta name="description" content="Wedding website for Ayse & Leonardo. 12 June 2026. Istanbul, Turkey. Fuat Pasa Oteli." />

  <!-- Free fonts (Google Fonts)
    Serif for headings: Cormorant Garamond
    Sans for UI and body: Inter
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root{
      /* Palette */
      --beige:#F5F5DC;
      --earth:#8A7356;
      --espresso:#5B4C3A;
      --navy:#0F1F2E;

      --ink:#111113;
      --paper:#FCFCF7;
      --white:#FFFFFF;

      --line:rgba(17,17,19,.12);
      --line-2:rgba(17,17,19,.08);
      --muted:rgba(17,17,19,.68);

      --radius:18px;
      --shadow: 0 10px 28px rgba(15,31,46,.08);

      --serif: "Cormorant Garamond", ui-serif, Georgia, "Times New Roman", Times, serif;
      --sans: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

      --wrap: 1240px;
      --header-h: 72px; /* updated by JS */

      /* Safe area helpers */
      --safe-l: env(safe-area-inset-left, 0px);
      --safe-r: env(safe-area-inset-right, 0px);
      --safe-t: env(safe-area-inset-top, 0px);
      --safe-b: env(safe-area-inset-bottom, 0px);

      /* Hero image placeholder (replace later) */
      --hero-img: none;

      /* Content padding */
      --pad-x: clamp(16px, 4vw, 28px);

      /* Earth accents */
      --earth-soft: rgba(138,115,86,.14);
      --earth-soft-2: rgba(138,115,86,.22);
      --earth-line: rgba(138,115,86,.34);
      --earth-ink: rgba(91,76,58,.95);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--ink);
      background: var(--paper);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    /* Layout */
    .wrap{
      max-width:var(--wrap);
      margin:0 auto;
      padding-left: calc(var(--pad-x) + var(--safe-l));
      padding-right: calc(var(--pad-x) + var(--safe-r));
    }
    section{ scroll-margin-top: calc(var(--header-h) + 16px); }

    /* Topbar */
    .topbar{
      position:sticky;
      top:0;
      z-index:50;
      background: rgba(252,252,247,.90);
      backdrop-filter: blur(12px) saturate(160%);
      border-bottom: 1px solid var(--line);
      width:100%;
    }
    .topbar::after{
      content:"";
      display:block;
      height:2px;
      background: linear-gradient(90deg, rgba(138,115,86,.35), rgba(138,115,86,.06), rgba(138,115,86,.22));
      opacity:.9;
    }
    .topbar-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 0;
    }

    .brand{
      text-decoration:none;
      color:inherit;
      display:flex;
      flex-direction:column;
      line-height:1.05;
      min-width: 200px;
    }
    .brand .name{
      font-family:var(--serif);
      font-weight:600;
      letter-spacing:-.02em;
      font-size:19px;
    }
    .brand .sub{
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
    }

    .nav{
      display:flex;
      align-items:center;
      gap:18px;
      flex-wrap:nowrap;
      justify-content:center;
      white-space:nowrap;
      min-width: 520px;
    }
    .nav a{
      font-size:12px;
      text-decoration:none;
      color:rgba(17,17,19,.78);
      letter-spacing:.14em;
      text-transform:uppercase;
      padding:8px 4px;
      position:relative;
    }
    .nav a::after{
      content:"";
      position:absolute;
      left:4px;
      right:4px;
      bottom:4px;
      height:1px;
      background: rgba(138,115,86,.0);
      transition: background .12s ease;
    }
    .nav a:hover{ color:var(--navy); }
    .nav a:hover::after{ background: rgba(138,115,86,.28); }

    .right-tools{ display:flex; align-items:center; gap:10px; }

    /* Language */
    .lang{
      display:flex;
      align-items:center;
      gap:6px;
      border:1px solid var(--earth-line);
      border-radius:999px;
      padding:6px 8px;
      background: rgba(255,255,255,.66);
    }
    .lang button{
      border:0;
      background:transparent;
      cursor:pointer;
      font-size:12px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:rgba(17,17,19,.62);
      padding:6px 8px;
      border-radius:999px;
    }
    .lang button[aria-pressed="true"]{
      background: rgba(138,115,86,.20);
      color: rgba(17,17,19,.90);
    }

    /* Mobile menu */
    .menu-btn{
      display:none;
      border:1px solid var(--earth-line);
      background: rgba(255,255,255,.66);
      border-radius:12px;
      padding:10px 10px;
      cursor:pointer;
    }
    .menu-btn span{ display:block; width:18px; height:2px; background:rgba(17,17,19,.75); margin:4px 0; }

    .mobile-drawer{
      display:none;
      border-top:1px solid var(--line);
      background: rgba(252,252,247,.96);
    }
    .mobile-drawer .drawer-inner{ padding:10px 0 14px; }
    .mobile-drawer a{
      display:block;
      padding:12px 0;
      text-decoration:none;
      color:rgba(17,17,19,.86);
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      border-bottom:1px solid rgba(17,17,19,.06);
    }

    /* Buttons */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:12px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.70);
      text-decoration:none;
      color: rgba(17,17,19,.86);
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn.primary{
      background: var(--navy);
      color: rgba(255,255,255,.96);
      border-color: rgba(15,31,46,.20);
    }
    .btn.earth{
      background: rgba(138,115,86,.22);
      border-color: rgba(138,115,86,.34);
      color: rgba(17,17,19,.90);
    }

    /* Hero */
    .hero{
      min-height: calc(100vh - var(--header-h));
      display:flex;
      align-items:stretch;
      background:
        radial-gradient(900px 600px at 18% 24%, rgba(138,115,86,.12), rgba(0,0,0,0)),
        linear-gradient(0deg, rgba(245,245,220,.52), rgba(245,245,220,.52));
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1fr 1.1fr;
      gap:0;
      width:100%;
      border-bottom:1px solid var(--line);
    }
    .hero-left{
      padding: clamp(28px, 5.6vw, 64px);
      display:flex;
      flex-direction:column;
      justify-content:center;
      background: rgba(252,252,247,.72);
      border-right:1px solid var(--line);
      position:relative;
    }
    .hero-left::before{
      content:"";
      position:absolute;
      left:0;
      top:0;
      bottom:0;
      width:6px;
      background: linear-gradient(180deg, rgba(138,115,86,.42), rgba(138,115,86,.08));
    }
    .hero-kicker{
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color: rgba(91,76,58,.92);
      margin:0 0 16px;
    }
    .hero-title{
      font-family:var(--serif);
      font-weight:600;
      letter-spacing:-.02em;
      font-size: clamp(44px, 5.8vw, 74px);
      line-height: .92;
      margin:0 0 14px;
    }
    .hero-subtitle{
      font-size:15px;
      line-height:1.55;
      color: rgba(17,17,19,.76);
      max-width: 56ch;
      margin: 0;
    }
    .hero-meta{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-top: 18px;
      font-size:12px;
      letter-spacing:.16em;
      text-transform:uppercase;
      color: rgba(17,17,19,.70);
    }
    .hero-meta strong{ color: rgba(15,31,46,.90); font-weight:600; }

    .hero-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 26px;
    }

    .hero-note{
      margin-top: 14px;
      font-size:13px;
      color: var(--muted);
      max-width: 58ch;
      line-height:1.45;
    }

    .hero-right{
      position:relative;
      min-height: 520px;
      background:
        linear-gradient(0deg, rgba(15,31,46,.22), rgba(15,31,46,.22)),
        radial-gradient(700px 520px at 70% 30%, rgba(138,115,86,.18), rgba(0,0,0,0)),
        var(--hero-img),
        linear-gradient(135deg, rgba(138,115,86,.34), rgba(91,76,58,.18));
      background-size: cover;
      background-position: center;
      display:flex;
      align-items:flex-end;
      justify-content:flex-end;
      padding: 18px;
    }
    .hero-img-badge{
      background: rgba(252,252,247,.88);
      border:1px solid rgba(138,115,86,.22);
      border-radius: 999px;
      padding: 10px 12px;
      font-size: 12px;
      color: rgba(17,17,19,.72);
      letter-spacing:.06em;
    }

    /* Sections */
    .section{
      padding: 64px 0;
      background: transparent;
    }
    .section.alt{
      background:
        radial-gradient(900px 520px at 12% 22%, rgba(138,115,86,.10), rgba(0,0,0,0)),
        linear-gradient(0deg, rgba(245,245,220,.38), rgba(245,245,220,.38));
      border-top:1px solid var(--line);
      border-bottom:1px solid var(--line);
    }

    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 18px;
      margin-bottom: 18px;
    }
    .section-head .accent{
      height:2px;
      background: linear-gradient(90deg, rgba(138,115,86,.38), rgba(138,115,86,.10));
      border-radius:999px;
      margin-top: 10px;
      width: min(320px, 100%);
      opacity: .95;
    }

    .h2{
      font-family:var(--serif);
      font-weight:600;
      letter-spacing:-.01em;
      font-size: clamp(30px, 3.2vw, 40px);
      margin:0;
    }
    .lead{
      margin:8px 0 0;
      color: var(--muted);
      max-width: 72ch;
      line-height:1.55;
      font-size: 15px;
    }

    /* Grid cards */
    .grid{ display:grid; gap:16px; }
    .g-2{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .g-3{ grid-template-columns: repeat(3, minmax(0, 1fr)); }

    /* Section specific grids */
    .schedule-grid{ grid-template-columns: 1.55fr .85fr; }
    .right-stack{ display:grid; gap:16px; }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(252,252,247,.76);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card.earth-edge::before{
      content:"";
      position:absolute;
      left:0;
      top:0;
      bottom:0;
      width:5px;
      background: linear-gradient(180deg, rgba(138,115,86,.44), rgba(138,115,86,.10));
      opacity:.9;
    }

    .card .pad{ padding:18px; }

    .label{
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color: rgba(15,31,46,.78);
      margin:0 0 10px;
    }
    .label.earth{ color: rgba(91,76,58,.95); }

    .h3{
      margin:0 0 10px;
      font-size: 16px;
      letter-spacing:-.01em;
      color: rgba(17,17,19,.92);
    }
    .muted{ color: var(--muted); }

    .img-slot{
      width:100%;
      aspect-ratio: 16 / 10;
      background:
        linear-gradient(0deg, rgba(15,31,46,.14), rgba(15,31,46,.14)),
        radial-gradient(700px 420px at 30% 30%, rgba(138,115,86,.24), rgba(0,0,0,0)),
        linear-gradient(135deg, rgba(138,115,86,.24), rgba(91,76,58,.18));
      background-size: cover;
      background-position:center;
      border-bottom:1px solid rgba(255,255,255,.22);
      position:relative;
    }
    .img-slot.tall{ aspect-ratio: 4 / 5; }
    .img-slot.compact{ aspect-ratio: 16 / 9; }
    .img-slot .tag{
      position:absolute;
      bottom: 12px;
      left: 12px;
      background: rgba(252,252,247,.90);
      border:1px solid rgba(138,115,86,.18);
      border-radius: 999px;
      padding: 8px 10px;
      font-size: 12px;
      color: rgba(17,17,19,.72);
      letter-spacing:.04em;
    }

    .list{
      margin: 0;
      padding-left: 18px;
      color: rgba(17,17,19,.78);
      line-height: 1.6;
    }
    .list li{ margin: 6px 0; }

    /* Schedule */
    .schedule{ display:grid; gap:10px; margin-top: 10px; }
    .schedule-item{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      padding: 12px 14px;
      border: 1px solid rgba(138,115,86,.22);
      border-radius: 14px;
      background:
        linear-gradient(0deg, rgba(255,255,255,.58), rgba(255,255,255,.58)),
        radial-gradient(420px 200px at 10% 10%, rgba(138,115,86,.10), rgba(0,0,0,0));
    }
    .schedule-time{
      font-size:12px;
      letter-spacing:.16em;
      text-transform:uppercase;
      color: rgba(91,76,58,.94);
      min-width: 92px;
      margin-top: 3px;
    }
    .schedule-right{ text-align:right; }
    .schedule-title{ font-weight:600; }
    .schedule-note{ color: var(--muted); font-size: 13px; margin-top: 4px; }

    /* RSVP */
    .field{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(17,17,19,.12);
      background:rgba(255,255,255,.70);
      font-family: var(--sans);
      font-size: 15px;
    }

    /* Inline info blocks */
    .info{
      border:1px solid rgba(138,115,86,.22);
      background: rgba(138,115,86,.10);
      border-radius: 14px;
      padding: 12px 14px;
      margin-top: 12px;
    }
    .info-title{
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color: rgba(91,76,58,.92);
      margin: 0 0 8px;
    }
    .info p{ margin:0; color: rgba(17,17,19,.70); line-height:1.55; font-size: 13px; }

    /* Gifts */
    .copyline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 14px;
      border: 1px solid rgba(138,115,86,.22);
      border-radius: 14px;
      background: rgba(255,255,255,.58);
      margin-top:10px;
    }
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
      color: rgba(17,17,19,.78);
      word-break: break-word;
    }
    .copybtn{
      border: 1px solid rgba(138,115,86,.26);
      background: rgba(252,252,247,.88);
      border-radius: 999px;
      padding: 8px 10px;
      cursor:pointer;
      font-size: 12px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color: rgba(17,17,19,.84);
      white-space:nowrap;
    }

    /* Footer */
    .footer{
      padding: 34px 0 calc(44px + var(--safe-b));
      border-top:1px solid var(--line);
      background:
        radial-gradient(900px 520px at 10% 30%, rgba(138,115,86,.10), rgba(0,0,0,0)),
        rgba(245,245,220,.32);
    }
    .footer-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      color: var(--muted);
      font-size: 13px;
    }

    /* Code gate */
    .gate{
      position:fixed;
      inset:0;
      z-index:999;
      display:none;
      background:
        radial-gradient(1200px 800px at 50% 10%, rgba(138,115,86,.16), rgba(0,0,0,0)),
        linear-gradient(0deg, rgba(252,252,247,.96), rgba(245,245,220,.74));
      padding-top: var(--safe-t);
    }
    .gate-inner{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: calc(24px + var(--safe-t)) calc(16px + var(--safe-r)) calc(24px + var(--safe-b)) calc(16px + var(--safe-l));
    }
    .gate-card{
      width:min(560px, 100%);
      border:1px solid rgba(138,115,86,.22);
      border-radius:18px;
      background: rgba(252,252,247,.90);
      box-shadow: 0 18px 60px rgba(15,31,46,.12);
      overflow:hidden;
    }
    .gate-head{ padding:22px 20px; border-bottom:1px solid rgba(17,17,19,.10); }
    .gate-title{ font-family:var(--serif); font-weight:600; letter-spacing:-.02em; font-size:28px; }
    .gate-sub{ margin-top:8px; color: rgba(17,17,19,.68); line-height:1.5; }
    .gate-body{ padding:18px 20px 22px; }

    /* Responsive */
    @media (max-width: 1060px){
      .nav{ display:none; }
      .menu-btn{ display:inline-block; }
      .hero-grid{ grid-template-columns: 1fr; }
      .hero-left{ border-right:0; border-bottom:1px solid var(--line); }
      .hero-right{ min-height: 420px; }
      .g-2, .g-3, .schedule-grid{ grid-template-columns: 1fr; }
      .section{ padding: 52px 0; }
      .footer-inner{ flex-direction:column; align-items:flex-start; }
      .schedule-right{ text-align:left; }
    }

    @media (max-width: 420px){
      .brand{ min-width: 0; }
      .brand .name{ font-size: 16px; }
      .brand .sub{ font-size: 11px; }
      .topbar-inner{ gap:10px; }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      .btn{ transition:none; }
      .nav a::after{ transition:none; }
    }
  </style>
</head>

<body>
  <!-- Code gate (login-style) -->
  <div id="gate" class="gate" aria-hidden="true">
    <div class="gate-inner">
      <div class="gate-card">
        <div class="gate-head">
          <div class="gate-title" data-i18n="gate.title">Ayse & Leonardo</div>
          <div class="gate-sub" data-i18n="gate.subtitle">Enter your invitation code to access the wedding website.</div>
        </div>
        <div class="gate-body">
          <form id="gateForm" novalidate>
            <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="gateCode" data-i18n="gate.code_label">Invitation code</label>
            <input id="gateCode" name="code" type="text" inputmode="text" autocomplete="off" required class="field" style="margin-top:8px;" />
            <div class="muted" style="font-size:13px; margin-top:10px; line-height:1.5;" data-i18n="gate.help">This code is on your invite. It also controls whether a plus-one is allowed.</div>
            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:14px;">
              <button class="btn primary" type="submit" id="gateSubmit" data-i18n="gate.enter">Enter</button>
            </div>
            <div id="gateStatus" class="muted" style="margin-top:12px; font-size:13px; line-height:1.5;"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <header class="topbar" id="topbar">
    <div class="wrap topbar-inner">
      <a class="brand" href="#home" aria-label="Back to top">
        <span class="name" data-i18n="brand.name">Ayse & Leonardo</span>
        <span class="sub" data-i18n="brand.sub">12 June 2026 · Istanbul</span>
      </a>

      <nav class="nav" aria-label="Main navigation">
        <a href="#home" data-i18n="nav.home">Home</a>
        <a href="#schedule" data-i18n="nav.schedule">Schedule</a>
        <a href="#travel" data-i18n="nav.travel">Venue & Travel</a>
        <a href="#stay" data-i18n="nav.stay">Where to stay</a>
        <a href="#dresscode" data-i18n="nav.dress">Dress code</a>
        <a href="#rsvp" data-i18n="nav.rsvp">RSVP</a>
        <a href="#gifts" data-i18n="nav.gifts">Gifts</a>
      </nav>

      <div class="right-tools">
        <div class="lang" role="group" aria-label="Language">
          <button type="button" class="lang-btn" data-lang="en" aria-pressed="true">EN</button>
          <button type="button" class="lang-btn" data-lang="es" aria-pressed="false">ES</button>
          <button type="button" class="lang-btn" data-lang="it" aria-pressed="false">IT</button>
        </div>

        <button class="menu-btn" id="menuBtn" type="button" aria-label="Open menu" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>

    <div class="mobile-drawer" id="drawer" aria-label="Mobile navigation">
      <div class="wrap drawer-inner">
        <a href="#home" data-i18n="nav.home">Home</a>
        <a href="#schedule" data-i18n="nav.schedule">Schedule</a>
        <a href="#travel" data-i18n="nav.travel">Venue & Travel</a>
        <a href="#stay" data-i18n="nav.stay">Where to stay</a>
        <a href="#dresscode" data-i18n="nav.dress">Dress code</a>
        <a href="#rsvp" data-i18n="nav.rsvp">RSVP</a>
        <a href="#gifts" data-i18n="nav.gifts">Gifts</a>
      </div>
    </div>
  </header>

  <!-- HERO (full screen) -->
  <main class="hero" id="home">
    <div class="hero-grid">
      <div class="hero-left">
        <p class="hero-kicker" data-i18n="hero.kicker">We’re getting married</p>
        <h1 class="hero-title" data-i18n="hero.title">Ayse & Leonardo</h1>
        <p class="hero-subtitle" data-i18n="hero.subtitle">Join us in Istanbul for a day that starts with a ceremony and ends on the dancefloor.</p>

        <div class="hero-meta">
          <div><strong data-i18n="hero.meta_date_label">Date</strong> <span data-i18n="hero.date">12 June 2026</span></div>
          <div><strong data-i18n="hero.meta_city_label">City</strong> <span data-i18n="hero.city">Istanbul, Turkey</span></div>
          <div><strong data-i18n="hero.meta_venue_label">Venue</strong> <span data-i18n="hero.venue">Fuat Pasa Oteli</span></div>
        </div>

        <div class="hero-actions">
          <a class="btn primary" href="#rsvp" data-i18n="hero.cta_rsvp">RSVP</a>
          <a class="btn earth" href="#schedule" data-i18n="hero.cta_schedule">See schedule</a>
          <a class="btn" href="#travel" data-i18n="hero.cta_travel">Venue & travel</a>
        </div>

        <p class="hero-note" data-i18n="hero.note">
          RSVP deadline: <strong>31 January 2026</strong>. Plus-one is only possible if it was mentioned in your invitation.
        </p>
      </div>

      <div class="hero-right" aria-label="Hero image">
        <div class="hero-img-badge" data-i18n="hero.image_hint">Hero image placeholder. We’ll add your photo later.</div>
      </div>
    </div>
  </main>

  <!-- SCHEDULE -->
  <section class="section" id="schedule">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="schedule.title">Schedule</h2>
          <p class="lead" data-i18n="schedule.lead">A simple timeline for the day. We’ll replace placeholders with the final schedule you’ll send.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid schedule-grid">
        <div class="card earth-edge">
          <div class="img-slot" id="scheduleImg" aria-label="Schedule image">
            <div class="tag" data-i18n="images.schedule">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label earth" data-i18n="schedule.block_label">Schedule of events</p>
            <div class="schedule" id="scheduleList">
              <div class="schedule-item">
                <div class="schedule-time">TBC</div>
                <div class="schedule-right">
                  <div class="schedule-title" data-i18n="schedule.items.0.title">Ceremony</div>
                  <div class="schedule-note" data-i18n="schedule.items.0.note">Fuat Pasa Oteli</div>
                </div>
              </div>
              <div class="schedule-item">
                <div class="schedule-time">TBC</div>
                <div class="schedule-right">
                  <div class="schedule-title" data-i18n="schedule.items.1.title">Cocktail</div>
                  <div class="schedule-note" data-i18n="schedule.items.1.note">Terrace / garden</div>
                </div>
              </div>
              <div class="schedule-item">
                <div class="schedule-time">TBC</div>
                <div class="schedule-right">
                  <div class="schedule-title" data-i18n="schedule.items.2.title">Dinner</div>
                  <div class="schedule-note" data-i18n="schedule.items.2.note">Seated dinner</div>
                </div>
              </div>
              <div class="schedule-item">
                <div class="schedule-time">TBC</div>
                <div class="schedule-right">
                  <div class="schedule-title" data-i18n="schedule.items.3.title">Party</div>
                  <div class="schedule-note" data-i18n="schedule.items.3.note">Dancing</div>
                </div>
              </div>
            </div>
            <p class="muted" style="margin:12px 0 0; font-size:13px;" data-i18n="schedule.note">You’ll send the final timings and details. We’ll drop them here.</p>
          </div>
        </div>

        <div class="right-stack">
          <div class="card">
            <div class="pad">
              <p class="label" data-i18n="schedule.quick_label">Quick details</p>
              <h3 class="h3" data-i18n="schedule.quick_title">At a glance</h3>
              <ul class="list">
                <li data-i18n="schedule.quick_bullets.0">Date: 12 June 2026</li>
                <li data-i18n="schedule.quick_bullets.1">Venue: Fuat Pasa Oteli, Istanbul</li>
                <li data-i18n="schedule.quick_bullets.2">RSVP by: 31 January 2026</li>
              </ul>
              <div class="info">
                <div class="info-title" data-i18n="schedule.quick_tip_label">Tip</div>
                <p data-i18n="schedule.quick_tip">Plan a little extra time for Istanbul traffic. We’ll share final logistics closer to the date.</p>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="pad">
              <p class="label earth" data-i18n="schedule.rsvp_label">RSVP</p>
              <h3 class="h3" data-i18n="schedule.rsvp_title">Do it in 30 seconds</h3>
              <p class="muted" style="margin:0 0 12px;" data-i18n="schedule.rsvp_text">You can confirm directly on this page. Your invitation code unlocks the right fields.</p>
              <a class="btn earth" href="#rsvp" data-i18n="schedule.rsvp_cta">Go to RSVP</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- VENUE & TRAVEL -->
  <section class="section alt" id="travel">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="travel.title">Venue & Travel</h2>
          <p class="lead" data-i18n="travel.lead">How to get there, what to plan for, and key addresses. We’ll insert your exact details when you send them.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid g-3">
        <article class="card earth-edge">
          <div class="img-slot compact" id="venueImg" aria-label="Venue image">
            <div class="tag" data-i18n="images.venue">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label earth" data-i18n="travel.venue_label">Venue</p>
            <h3 class="h3" data-i18n="travel.venue_title">Fuat Pasa Oteli</h3>
            <p class="muted" data-i18n="travel.venue_text">We’ll add the exact Google Maps link and the venue website here.</p>
            <div style="display:flex; gap:12px; flex-wrap:wrap; margin-top:10px;">
              <a class="btn earth" href="#" id="mapsLink" target="_blank" rel="noopener" data-i18n="travel.maps_btn">Open in Google Maps</a>
              <a class="btn" href="#" id="venueLink" target="_blank" rel="noopener" data-i18n="travel.venue_btn">Venue website</a>
            </div>

            <div class="info" style="margin-top:14px;">
              <div class="info-title" data-i18n="travel.map_label">Map</div>
              <p data-i18n="travel.map_note">If we add a Google Maps embed link, a map can appear here.</p>
              <div style="margin-top:10px; border-radius:14px; overflow:hidden; border:1px solid rgba(138,115,86,.18); background:rgba(255,255,255,.62);">
                <iframe id="mapsEmbed" title="Map" width="100%" height="220" style="border:0; display:none;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                <div id="mapsEmbedPlaceholder" class="muted" style="padding:12px; font-size:13px;">Map placeholder</div>
              </div>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="img-slot compact" id="arrivalImg" aria-label="Arrival image">
            <div class="tag" data-i18n="images.arrival">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label" data-i18n="travel.arrival_label">Arriving</p>
            <h3 class="h3" data-i18n="travel.arrival_title">Airports and transfers</h3>
            <ul class="list">
              <li data-i18n="travel.arrival_bullets.0">Airport(s): we’ll confirm the best option</li>
              <li data-i18n="travel.arrival_bullets.1">Taxi / ride apps: recommended options</li>
              <li data-i18n="travel.arrival_bullets.2">Typical travel time: depends on traffic</li>
            </ul>
          </div>
        </article>

        <article class="card">
          <div class="img-slot compact" id="tipsImg" aria-label="Tips image">
            <div class="tag" data-i18n="images.tips">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label" data-i18n="travel.tips_label">Tips</p>
            <h3 class="h3" data-i18n="travel.tips_title">What to do and what to avoid</h3>
            <p class="muted" data-i18n="travel.tips_note">We’ll adapt this once you send your bullet list.</p>
            <ul class="list">
              <li data-i18n="travel.tips_bullets.0">Do: plan a bit of extra time for Istanbul traffic</li>
              <li data-i18n="travel.tips_bullets.1">Do: keep comfortable shoes for walking</li>
              <li data-i18n="travel.tips_bullets.2">Avoid: relying on last-minute transfers</li>
            </ul>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- WHERE TO STAY -->
  <section class="section" id="stay">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="stay.title">Where to stay</h2>
          <p class="lead" data-i18n="stay.lead">A curated list of zones and hotels. Send your links and we’ll populate everything here.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid g-2">
        <div class="card">
          <div class="pad">
            <p class="label" data-i18n="stay.zones_label">Recommended zones</p>
            <h3 class="h3" data-i18n="stay.zones_title">Pick the area that fits your trip</h3>
            <ul class="list" id="zonesList">
              <li data-i18n="stay.zones.0">Zone placeholder 1 (we’ll replace)</li>
              <li data-i18n="stay.zones.1">Zone placeholder 2 (we’ll replace)</li>
              <li data-i18n="stay.zones.2">Zone placeholder 3 (we’ll replace)</li>
            </ul>
            <div class="info">
              <div class="info-title" data-i18n="stay.map_tip_label">Optional</div>
              <p data-i18n="stay.map_tip">If we add a Google Map with pinned hotels, we can embed it here too.</p>
            </div>
          </div>
        </div>

        <div class="card earth-edge">
          <div class="img-slot" id="stayImg" aria-label="Istanbul image">
            <div class="tag" data-i18n="images.stay">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label earth" data-i18n="stay.hotels_label">Hotels</p>
            <h3 class="h3" data-i18n="stay.hotels_title">Direct links</h3>
            <p class="muted" data-i18n="stay.hotels_note">We’ll insert your full hotel list with links.</p>
            <ul class="list" id="hotelsList">
              <li><a href="#" class="muted" data-i18n="stay.hotels.0">Hotel placeholder (link)</a></li>
              <li><a href="#" class="muted" data-i18n="stay.hotels.1">Hotel placeholder (link)</a></li>
              <li><a href="#" class="muted" data-i18n="stay.hotels.2">Hotel placeholder (link)</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DRESS CODE -->
  <section class="section alt" id="dresscode">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="dress.title">Dress code</h2>
          <p class="lead" data-i18n="dress.lead">Elegant, modern, and comfortable. We’ll update this once you define the dress code.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid g-2">
        <article class="card earth-edge">
          <div class="img-slot tall" id="dressImg1" aria-label="Dress code image 1">
            <div class="tag" data-i18n="images.dress1">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label earth" data-i18n="dress.block1_label">The vibe</p>
            <h3 class="h3" data-i18n="dress.block1_title">Editorial, timeless</h3>
            <p class="muted" data-i18n="dress.block1_text">A short description goes here. We’ll align it with your final guidance.</p>
          </div>
        </article>

        <article class="card">
          <div class="pad">
            <p class="label" data-i18n="dress.rules_label">Guidelines</p>
            <h3 class="h3" data-i18n="dress.rules_title">What works best</h3>

            <div class="grid" style="grid-template-columns: 1fr 1fr; gap:14px;">
              <div class="info" style="margin-top:0;">
                <div class="info-title" data-i18n="dress.do_label">Do</div>
                <ul class="list" id="dressDo" style="margin-top:8px;">
                  <li data-i18n="dress.do.0">Do: bring a light layer for the evening</li>
                  <li data-i18n="dress.do.1">Do: choose shoes you can walk and dance in</li>
                </ul>
              </div>

              <div class="info" style="margin-top:0; background: rgba(255,255,255,.56); border-color: rgba(17,17,19,.10);">
                <div class="info-title" style="color: rgba(15,31,46,.78);" data-i18n="dress.dont_label">Avoid</div>
                <ul class="list" id="dressDont" style="margin-top:8px;">
                  <li data-i18n="dress.dont.0">Avoid: overly casual outfits</li>
                  <li data-i18n="dress.dont.1">Avoid: anything that feels uncomfortable for a long day</li>
                </ul>
              </div>
            </div>

            <p class="muted" style="margin:12px 0 0; font-size:13px;" data-i18n="dress.extra">We’ll add a couple of reference images once you send them.</p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- RSVP -->
  <section class="section" id="rsvp">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="rsvp.title">RSVP</h2>
          <p class="lead" data-i18n="rsvp.lead">Please reply before <strong>31 January 2026</strong>. Plus-one is only possible if it was mentioned in your invitation.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid g-2">
        <div class="card earth-edge">
          <div class="pad">
            <p class="label earth" data-i18n="rsvp.premium_label">Premium RSVP</p>
            <h3 class="h3" data-i18n="rsvp.premium_title">Submit directly on this page</h3>
            <p class="muted" data-i18n="rsvp.premium_note">This form sends your reply to our private Google Sheet via a secure Google Apps Script endpoint.</p>

            <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin:12px 0 0;">
              <div class="muted" style="font-size:13px;" data-i18n="rsvp.authed">Invitation code recognised.</div>
              <button type="button" id="changeCode" class="copybtn" data-i18n="rsvp.change_code">Change code</button>
            </div>

            <form id="rsvpForm" class="rsvp-form" novalidate style="margin-top: 14px;">
              <input type="hidden" name="code" id="rsvpCodeHidden" value="" />

              <!-- Anti-spam honeypot -->
              <div style="position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;" aria-hidden="true">
                <label>Company</label>
                <input type="text" name="company" tabindex="-1" autocomplete="off" />
              </div>

              <div style="display:grid; gap:12px;">
                <div id="rsvpCodeBlock">
                  <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="rsvpCode" data-i18n="rsvp.fields.code_label">Invitation code</label>
                  <input id="rsvpCode" name="code_visible" type="text" inputmode="text" autocomplete="off" class="field" required />
                  <div class="muted" style="font-size:13px; margin-top:6px;" data-i18n="rsvp.fields.code_help">Use the code from your invite. It helps us match guests and apply plus-one rules.</div>
                </div>

                <div>
                  <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="rsvpName" data-i18n="rsvp.fields.name_label">Full name</label>
                  <input id="rsvpName" name="name" type="text" autocomplete="name" required class="field" />
                </div>

                <div>
                  <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="rsvpAttendance" data-i18n="rsvp.fields.attendance_label">Will you attend?</label>
                  <select id="rsvpAttendance" name="attendance" required class="field">
                    <option value="" data-i18n="rsvp.fields.attendance_placeholder">Select</option>
                    <option value="yes" data-i18n="rsvp.fields.attendance_yes">Yes, I will be there</option>
                    <option value="no" data-i18n="rsvp.fields.attendance_no">No, I can’t make it</option>
                  </select>
                </div>

                <div>
                  <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="rsvpDiet" data-i18n="rsvp.fields.diet_label">Dietary restrictions</label>
                  <textarea id="rsvpDiet" name="diet" rows="3" class="field" style="resize:vertical;"></textarea>
                </div>

                <div id="plusOneBlock" style="display:none;">
                  <label class="muted" style="display:block; font-size:12px; letter-spacing:.14em; text-transform:uppercase;" for="rsvpPlusOne" data-i18n="rsvp.fields.plusone_label">Plus-one full name</label>
                  <input id="rsvpPlusOne" name="plus_one_name" type="text" autocomplete="off" class="field" />
                  <div class="muted" style="font-size:13px; margin-top:6px;" data-i18n="rsvp.fields.plusone_help">This appears only if your invitation includes a plus-one.</div>
                </div>

                <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
                  <button class="btn primary" type="submit" id="rsvpSubmit" data-i18n="rsvp.submit">Send RSVP</button>
                  <span class="muted" style="font-size:13px;" data-i18n="rsvp.deadline">Deadline: 31 January 2026</span>
                </div>

                <div id="rsvpStatus" class="muted" style="font-size:13px; line-height:1.5;"></div>
              </div>
            </form>

            <p class="muted" style="margin:14px 0 0; font-size:13px;" data-i18n="rsvp.privacy_note">We only use this information to manage attendance and logistics for the wedding.</p>
          </div>
        </div>

        <div class="card">
          <div class="img-slot compact" id="rsvpImg" aria-label="RSVP image">
            <div class="tag" data-i18n="images.rsvp">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label" data-i18n="rsvp.details_label">Good to know</p>
            <h3 class="h3" data-i18n="rsvp.details_title">Before you submit</h3>
            <ul class="list">
              <li data-i18n="rsvp.details.0">Invitation code matches you to the guest list</li>
              <li data-i18n="rsvp.details.1">Plus-one appears only if your code allows it</li>
              <li data-i18n="rsvp.details.2">Dietary restrictions help us plan dinner</li>
            </ul>
            <div class="info">
              <div class="info-title" data-i18n="rsvp.confirm_label">Confirmation</div>
              <p data-i18n="rsvp.confirm_note">After submission, you’ll see a confirmation message right away.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- GIFTS -->
  <section class="section alt" id="gifts">
    <div class="wrap">
      <div class="section-head">
        <div>
          <h2 class="h2" data-i18n="gifts.title">Gifts</h2>
          <p class="lead" data-i18n="gifts.lead">A simple, clear way to contribute. You’ll send the final instructions and details.</p>
          <div class="accent" aria-hidden="true"></div>
        </div>
      </div>

      <div class="grid g-2">
        <div class="card earth-edge">
          <div class="pad">
            <p class="label earth" data-i18n="gifts.note_label">Note</p>
            <h3 class="h3" data-i18n="gifts.note_title">Thank you</h3>
            <p class="muted" data-i18n="gifts.note_text">Your presence is what matters most. If you’d like to contribute, details are below.</p>

            <div class="copyline">
              <div>
                <div class="muted" style="font-size:12px; letter-spacing:.14em; text-transform:uppercase;" data-i18n="gifts.iban_label">IBAN</div>
                <div class="mono" id="ibanValue">IBAN_PLACEHOLDER</div>
              </div>
              <button class="copybtn" type="button" data-copy="ibanValue" data-i18n="gifts.copy">Copy</button>
            </div>

            <div class="copyline">
              <div>
                <div class="muted" style="font-size:12px; letter-spacing:.14em; text-transform:uppercase;" data-i18n="gifts.revolut_label">Revolut</div>
                <div class="mono" id="revolutValue">REVOLUT_PLACEHOLDER</div>
              </div>
              <button class="copybtn" type="button" data-copy="revolutValue" data-i18n="gifts.copy">Copy</button>
            </div>

            <p class="muted" style="margin:12px 0 0; font-size:13px;" data-i18n="gifts.extra">We’ll replace placeholders with the real details you share.</p>
          </div>
        </div>

        <div class="card">
          <div class="img-slot" id="giftsImg" aria-label="Gifts image">
            <div class="tag" data-i18n="images.gifts">Image placeholder</div>
          </div>
          <div class="pad">
            <p class="label" data-i18n="gifts.details_label">Details</p>
            <h3 class="h3" data-i18n="gifts.details_title">Instructions</h3>
            <ul class="list" id="giftsList">
              <li data-i18n="gifts.bullets.0">Add a short line about what the gift supports (optional).</li>
              <li data-i18n="gifts.bullets.1">Add any reference needed for transfers (optional).</li>
              <li data-i18n="gifts.bullets.2">Keep it simple and clear.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="wrap footer-inner">
      <div data-i18n="footer.left">Ayse & Leonardo · Istanbul · 12 June 2026</div>
      <a href="#home" style="color:inherit; text-decoration:none;" data-i18n="footer.top">Back to top</a>
    </div>
  </footer>

  <script>
    const T = {
      en: {
        brand: { name: "Ayse & Leonardo", sub: "12 June 2026 · Istanbul" },
        nav: { home: "Home", schedule: "Schedule", travel: "Venue & Travel", stay: "Where to stay", dress: "Dress code", rsvp: "RSVP", gifts: "Gifts" },
        gate: {
          title: "Ayse & Leonardo",
          subtitle: "Enter your invitation code to access the wedding website.",
          code_label: "Invitation code",
          help: "This code is on your invite. It also controls whether a plus-one is allowed.",
          enter: "Enter",
          status: {
            missing: "Please enter your invitation code.",
            checking: "Checking code…",
            invalid: "We couldn’t find this code. Please check it and try again.",
            endpoint: "Code verification is not available right now. Please try again later."
          }
        },
        hero: {
          kicker: "We’re getting married",
          title: "Ayse & Leonardo",
          subtitle: "Join us in Istanbul for a day that starts with a ceremony and ends on the dancefloor.",
          meta_date_label: "Date",
          meta_city_label: "City",
          meta_venue_label: "Venue",
          date: "12 June 2026",
          city: "Istanbul, Turkey",
          venue: "Fuat Pasa Oteli",
          cta_rsvp: "RSVP",
          cta_schedule: "See schedule",
          cta_travel: "Venue & travel",
          note: "RSVP deadline: <strong>31 January 2026</strong>. Plus-one is only possible if it was mentioned in your invitation.",
          image_hint: "Hero image placeholder. We’ll add your photo later."
        },
        images: {
          schedule: "Image placeholder",
          venue: "Image placeholder",
          arrival: "Image placeholder",
          tips: "Image placeholder",
          stay: "Image placeholder",
          dress1: "Image placeholder",
          rsvp: "Image placeholder",
          gifts: "Image placeholder"
        },
        schedule: {
          title: "Schedule",
          lead: "A simple timeline for the day. We’ll replace placeholders with the final schedule you’ll send.",
          block_label: "Schedule of events",
          items: [
            { title: "Ceremony", note: "Fuat Pasa Oteli" },
            { title: "Cocktail", note: "Terrace / garden" },
            { title: "Dinner", note: "Seated dinner" },
            { title: "Party", note: "Dancing" }
          ],
          note: "You’ll send the final timings and details. We’ll drop them here.",
          quick_label: "Quick details",
          quick_title: "At a glance",
          quick_bullets: ["Date: 12 June 2026", "Venue: Fuat Pasa Oteli, Istanbul", "RSVP by: 31 January 2026"],
          quick_tip_label: "Tip",
          quick_tip: "Plan a little extra time for Istanbul traffic. We’ll share final logistics closer to the date.",
          rsvp_label: "RSVP",
          rsvp_title: "Do it in 30 seconds",
          rsvp_text: "You can confirm directly on this page. Your invitation code unlocks the right fields.",
          rsvp_cta: "Go to RSVP"
        },
        travel: {
          title: "Venue & Travel",
          lead: "How to get there, what to plan for, and key addresses. We’ll insert your exact details when you send them.",
          venue_label: "Venue",
          venue_title: "Fuat Pasa Oteli",
          venue_text: "We’ll add the exact Google Maps link and the venue website here.",
          maps_btn: "Open in Google Maps",
          venue_btn: "Venue website",
          map_label: "Map",
          map_note: "If we add a Google Maps embed link, a map can appear here.",
          arrival_label: "Arriving",
          arrival_title: "Airports and transfers",
          arrival_bullets: ["Airport(s): we’ll confirm the best option", "Taxi / ride apps: recommended options", "Typical travel time: depends on traffic"],
          tips_label: "Tips",
          tips_title: "What to do and what to avoid",
          tips_note: "We’ll adapt this once you send your bullet list.",
          tips_bullets: ["Do: plan a bit of extra time for Istanbul traffic", "Do: keep comfortable shoes for walking", "Avoid: relying on last-minute transfers"]
        },
        stay: {
          title: "Where to stay",
          lead: "A curated list of zones and hotels. Send your links and we’ll populate everything here.",
          zones_label: "Recommended zones",
          zones_title: "Pick the area that fits your trip",
          zones: ["Zone placeholder 1 (we’ll replace)", "Zone placeholder 2 (we’ll replace)", "Zone placeholder 3 (we’ll replace)"],
          hotels_label: "Hotels",
          hotels_title: "Direct links",
          hotels_note: "We’ll insert your full hotel list with links.",
          hotels: ["Hotel placeholder (link)", "Hotel placeholder (link)", "Hotel placeholder (link)"],
          map_tip_label: "Optional",
          map_tip: "If we add a Google Map with pinned hotels, we can embed it here too."
        },
        dress: {
          title: "Dress code",
          lead: "Elegant, modern, and comfortable. We’ll update this once you define the dress code.",
          block1_label: "The vibe",
          block1_title: "Editorial, timeless",
          block1_text: "A short description goes here. We’ll align it with your final guidance.",
          rules_label: "Guidelines",
          rules_title: "What works best",
          do_label: "Do",
          dont_label: "Avoid",
          do: ["Do: bring a light layer for the evening", "Do: choose shoes you can walk and dance in"],
          dont: ["Avoid: overly casual outfits", "Avoid: anything that feels uncomfortable for a long day"],
          extra: "We’ll add a couple of reference images once you send them."
        },
        rsvp: {
          title: "RSVP",
          lead: "Please reply before <strong>31 January 2026</strong>. Plus-one is only possible if it was mentioned in your invitation.",
          premium_label: "Premium RSVP",
          premium_title: "Submit directly on this page",
          premium_note: "This form sends your reply to our private Google Sheet via a secure Google Apps Script endpoint.",
          authed: "Invitation code recognised.",
          change_code: "Change code",
          privacy_note: "We only use this information to manage attendance and logistics for the wedding.",
          deadline: "Deadline: 31 January 2026",
          submit: "Send RSVP",
          fields: {
            code_label: "Invitation code",
            code_help: "Use the code from your invite. It helps us match guests and apply plus-one rules.",
            name_label: "Full name",
            attendance_label: "Will you attend?",
            attendance_placeholder: "Select",
            attendance_yes: "Yes, I will be there",
            attendance_no: "No, I can’t make it",
            diet_label: "Dietary restrictions",
            plusone_label: "Plus-one full name",
            plusone_help: "This appears only if your invitation includes a plus-one."
          },
          status: {
            idle: "",
            endpoint_missing: "RSVP is not available right now. Please try again later.",
            missing_fields: "Please fill in your name and your attendance.",
            plus_one_not_allowed: "This invitation does not include a plus-one.",
            sending: "Sending…",
            sent: "Thank you. Your RSVP has been received.",
            generic_error: "Something went wrong. Please try again in a moment."
          },
          details_label: "Good to know",
          details_title: "Before you submit",
          details: [
            "Invitation code matches you to the guest list",
            "Plus-one appears only if your code allows it",
            "Dietary restrictions help us plan dinner"
          ],
          confirm_label: "Confirmation",
          confirm_note: "After submission, you’ll see a confirmation message right away."
        },
        gifts: {
          title: "Gifts",
          lead: "A simple, clear way to contribute. You’ll send the final instructions and details.",
          note_label: "Note",
          note_title: "Thank you",
          note_text: "Your presence is what matters most. If you’d like to contribute, details are below.",
          iban_label: "IBAN",
          revolut_label: "Revolut",
          copy: "Copy",
          extra: "We’ll replace placeholders with the real details you share.",
          details_label: "Details",
          details_title: "Instructions",
          bullets: ["Add a short line about what the gift supports (optional).", "Add any reference needed for transfers (optional).", "Keep it simple and clear."]
        },
        footer: { left: "Ayse & Leonardo · Istanbul · 12 June 2026", top: "Back to top" }
      },

      es: {
        brand: { name: "Ayse y Leonardo", sub: "12 junio 2026 · Estambul" },
        /* Shorter labels to keep the menu on one line */
        nav: { home: "Inicio", schedule: "Horario", travel: "Viaje", stay: "Alojarse", dress: "Vestimenta", rsvp: "RSVP", gifts: "Regalos" },
        gate: {
          title: "Ayse y Leonardo",
          subtitle: "Introduce tu código de invitación para acceder a la web.",
          code_label: "Código de invitación",
          help: "El código está en tu invitación. También controla si hay acompañante.",
          enter: "Entrar",
          status: {
            missing: "Introduce tu código de invitación.",
            checking: "Comprobando el código…",
            invalid: "No encontramos ese código. Revísalo e inténtalo de nuevo.",
            endpoint: "La verificación no está disponible ahora. Inténtalo más tarde."
          }
        },
        hero: {
          kicker: "Nos casamos",
          title: "Ayse y Leonardo",
          subtitle: "Acompáñanos en Estambul para un día que empieza con la ceremonia y termina bailando.",
          meta_date_label: "Fecha",
          meta_city_label: "Ciudad",
          meta_venue_label: "Lugar",
          date: "12 junio 2026",
          city: "Estambul, Turquía",
          venue: "Fuat Pasa Oteli",
          cta_rsvp: "RSVP",
          cta_schedule: "Ver horario",
          cta_travel: "Viaje",
          note: "Fecha límite de RSVP: <strong>31 enero 2026</strong>. Acompañante solo si se mencionó en la invitación.",
          image_hint: "Marcador de imagen hero. Añadiremos vuestra foto más adelante."
        },
        images: {
          schedule: "Marcador de imagen",
          venue: "Marcador de imagen",
          arrival: "Marcador de imagen",
          tips: "Marcador de imagen",
          stay: "Marcador de imagen",
          dress1: "Marcador de imagen",
          rsvp: "Marcador de imagen",
          gifts: "Marcador de imagen"
        },
        schedule: {
          title: "Horario",
          lead: "Una línea de tiempo simple del día. Sustituiremos los marcadores por el horario final que nos enviarás.",
          block_label: "Programa",
          items: [
            { title: "Ceremonia", note: "Fuat Pasa Oteli" },
            { title: "Cóctel", note: "Terraza / jardín" },
            { title: "Cena", note: "Cena sentados" },
            { title: "Fiesta", note: "Baile" }
          ],
          note: "Nos enviarás los horarios y detalles finales. Los colocaremos aquí.",
          quick_label: "Datos rápidos",
          quick_title: "De un vistazo",
          quick_bullets: ["Fecha: 12 junio 2026", "Lugar: Fuat Pasa Oteli, Estambul", "RSVP hasta: 31 enero 2026"],
          quick_tip_label: "Consejo",
          quick_tip: "Cuenta con margen por el tráfico de Estambul. Compartiremos la logística final más adelante.",
          rsvp_label: "RSVP",
          rsvp_title: "En 30 segundos",
          rsvp_text: "Puedes confirmar directamente aquí. Tu código desbloquea los campos correctos.",
          rsvp_cta: "Ir a RSVP"
        },
        travel: {
          title: "Viaje",
          lead: "Cómo llegar, qué planificar y direcciones clave. Añadiremos los detalles exactos cuando nos los envíes.",
          venue_label: "Lugar",
          venue_title: "Fuat Pasa Oteli",
          venue_text: "Añadiremos el enlace de Google Maps y la web del lugar aquí.",
          maps_btn: "Abrir Maps",
          venue_btn: "Web",
          map_label: "Mapa",
          map_note: "Si añadimos un enlace de inserción de Google Maps, el mapa puede aparecer aquí.",
          arrival_label: "Llegada",
          arrival_title: "Aeropuertos y traslados",
          arrival_bullets: ["Aeropuerto(s): confirmaremos la mejor opción", "Taxi / apps: opciones recomendadas", "Tiempo estimado: depende del tráfico"],
          tips_label: "Consejos",
          tips_title: "Qué hacer y qué evitar",
          tips_note: "Lo ajustaremos cuando nos envíes tu lista.",
          tips_bullets: ["Haz: cuenta con margen por el tráfico", "Haz: usa calzado cómodo", "Evita: traslados de última hora"]
        },
        stay: {
          title: "Alojarse",
          lead: "Lista de zonas y hoteles. Envíanos tus enlaces y lo completamos aquí.",
          zones_label: "Zonas",
          zones_title: "Elige el área que mejor te encaje",
          zones: ["Zona marcador 1 (lo cambiaremos)", "Zona marcador 2 (lo cambiaremos)", "Zona marcador 3 (lo cambiaremos)"],
          hotels_label: "Hoteles",
          hotels_title: "Enlaces",
          hotels_note: "Añadiremos tu lista completa de hoteles con enlaces.",
          hotels: ["Hotel marcador (enlace)", "Hotel marcador (enlace)", "Hotel marcador (enlace)"],
          map_tip_label: "Opcional",
          map_tip: "Si añadimos un mapa con hoteles, también podemos insertarlo aquí."
        },
        dress: {
          title: "Vestimenta",
          lead: "Elegante, moderno y cómodo. Lo actualizaremos cuando defináis el dress code.",
          block1_label: "El estilo",
          block1_title: "Editorial, atemporal",
          block1_text: "Aquí irá una descripción breve. La alinearemos con vuestras indicaciones.",
          rules_label: "Guía",
          rules_title: "Lo que funciona mejor",
          do_label: "Sí",
          dont_label: "Evitar",
          do: ["Sí: trae una capa ligera para la noche", "Sí: zapatos con los que puedas caminar y bailar"],
          dont: ["Evitar: looks demasiado informales", "Evitar: cualquier cosa incómoda para un día largo"],
          extra: "Añadiremos un par de imágenes de referencia cuando nos las enviéis."
        },
        rsvp: {
          title: "RSVP",
          lead: "Por favor confirma antes del <strong>31 enero 2026</strong>. Acompañante solo si se mencionó en la invitación.",
          premium_label: "RSVP premium",
          premium_title: "Confirma directamente aquí",
          premium_note: "Este formulario envía tu respuesta a nuestro Google Sheet privado mediante un endpoint seguro de Google Apps Script.",
          authed: "Código reconocido.",
          change_code: "Cambiar código",
          privacy_note: "Solo usamos esta información para gestionar asistencia y logística.",
          deadline: "Límite: 31 enero 2026",
          submit: "Enviar",
          fields: {
            code_label: "Código",
            code_help: "Usa el código de tu invitación. Nos ayuda a identificar invitados y aplicar la regla del acompañante.",
            name_label: "Nombre completo",
            attendance_label: "¿Asistirás?",
            attendance_placeholder: "Selecciona",
            attendance_yes: "Sí, asistiré",
            attendance_no: "No podré ir",
            diet_label: "Restricciones",
            plusone_label: "Nombre del acompañante",
            plusone_help: "Solo aparece si tu invitación incluye acompañante."
          },
          status: {
            idle: "",
            endpoint_missing: "El RSVP no está disponible ahora. Inténtalo más tarde.",
            missing_fields: "Completa tu nombre y tu asistencia.",
            plus_one_not_allowed: "Esta invitación no incluye acompañante.",
            sending: "Enviando…",
            sent: "Gracias. Hemos recibido tu confirmación.",
            generic_error: "Algo salió mal. Inténtalo de nuevo."
          },
          details_label: "Info",
          details_title: "Antes de enviar",
          details: ["El código coincide con la lista", "El acompañante solo aparece si corresponde", "Las restricciones ayudan a planificar la cena"],
          confirm_label: "Confirmación",
          confirm_note: "Tras enviar, verás un mensaje de confirmación al instante."
        },
        gifts: {
          title: "Regalos",
          lead: "Una forma simple y clara de contribuir. Nos enviarás las instrucciones finales y los datos.",
          note_label: "Nota",
          note_title: "Gracias",
          note_text: "Lo más importante es vuestra presencia. Si queréis contribuir, los detalles están abajo.",
          iban_label: "IBAN",
          revolut_label: "Revolut",
          copy: "Copiar",
          extra: "Sustituiremos los marcadores por los datos reales.",
          details_label: "Detalles",
          details_title: "Instrucciones",
          bullets: ["Añade una frase corta (opcional).", "Añade referencia para transferencias (opcional).", "Manténlo simple y claro."]
        },
        footer: { left: "Ayse y Leonardo · Estambul · 12 junio 2026", top: "Volver arriba" }
      },

      it: {
        brand: { name: "Ayse e Leonardo", sub: "12 giugno 2026 · Istanbul" },
        nav: { home: "Home", schedule: "Programma", travel: "Location e viaggio", stay: "Dove dormire", dress: "Dress code", rsvp: "RSVP", gifts: "Regali" },
        gate: {
          title: "Ayse e Leonardo",
          subtitle: "Inserisci il tuo codice invito per accedere al sito.",
          code_label: "Codice invito",
          help: "Il codice è sull’invito. Controlla anche se è previsto un +1.",
          enter: "Entra",
          status: {
            missing: "Inserisci il tuo codice invito.",
            checking: "Verifica del codice…",
            invalid: "Non troviamo questo codice. Controllalo e riprova.",
            endpoint: "La verifica non è disponibile ora. Riprova più tardi."
          }
        },
        hero: {
          kicker: "Ci sposiamo",
          title: "Ayse e Leonardo",
          subtitle: "Unisciti a noi a Istanbul per una giornata che inizia con la cerimonia e finisce in pista.",
          meta_date_label: "Data",
          meta_city_label: "Città",
          meta_venue_label: "Location",
          date: "12 giugno 2026",
          city: "Istanbul, Turchia",
          venue: "Fuat Pasa Oteli",
          cta_rsvp: "RSVP",
          cta_schedule: "Vedi programma",
          cta_travel: "Location e viaggio",
          note: "Scadenza RSVP: <strong>31 gennaio 2026</strong>. Il +1 è possibile solo se indicato nell’invito.",
          image_hint: "Segnaposto immagine hero. Aggiungeremo la vostra foto più avanti."
        },
        images: {
          schedule: "Segnaposto immagine",
          venue: "Segnaposto immagine",
          arrival: "Segnaposto immagine",
          tips: "Segnaposto immagine",
          stay: "Segnaposto immagine",
          dress1: "Segnaposto immagine",
          rsvp: "Segnaposto immagine",
          gifts: "Segnaposto immagine"
        },
        schedule: {
          title: "Programma",
          lead: "Una timeline semplice della giornata. Sostituiremo i placeholder con il programma finale che ci invierai.",
          block_label: "Eventi",
          items: [
            { title: "Cerimonia", note: "Fuat Pasa Oteli" },
            { title: "Aperitivo", note: "Terrazza / giardino" },
            { title: "Cena", note: "Cena seduti" },
            { title: "Festa", note: "Danza" }
          ],
          note: "Ci invierai orari e dettagli finali. Li inseriremo qui.",
          quick_label: "Info rapide",
          quick_title: "In breve",
          quick_bullets: ["Data: 12 giugno 2026", "Location: Fuat Pasa Oteli, Istanbul", "RSVP entro: 31 gennaio 2026"],
          quick_tip_label: "Consiglio",
          quick_tip: "Considera un po’ di margine per il traffico. Condivideremo la logistica finale più avanti.",
          rsvp_label: "RSVP",
          rsvp_title: "In 30 secondi",
          rsvp_text: "Puoi confermare direttamente qui. Il tuo codice sblocca i campi corretti.",
          rsvp_cta: "Vai a RSVP"
        },
        travel: {
          title: "Location e viaggio",
          lead: "Come arrivare, cosa pianificare e indirizzi chiave. Inseriremo i dettagli esatti quando ce li invierai.",
          venue_label: "Location",
          venue_title: "Fuat Pasa Oteli",
          venue_text: "Aggiungeremo qui il link Google Maps e il sito della location.",
          maps_btn: "Apri Maps",
          venue_btn: "Sito",
          map_label: "Mappa",
          map_note: "Se aggiungiamo un link di embed di Google Maps, la mappa può apparire qui.",
          arrival_label: "Arrivo",
          arrival_title: "Aeroporti e trasferimenti",
          arrival_bullets: ["Aeroporto(i): confermeremo l’opzione migliore", "Taxi / app: opzioni consigliate", "Tempo stimato: dipende dal traffico"],
          tips_label: "Consigli",
          tips_title: "Cosa fare e cosa evitare",
          tips_note: "Lo adatteremo quando ci invierai i tuoi punti.",
          tips_bullets: ["Da fare: considera margine per il traffico", "Da fare: scarpe comode", "Da evitare: trasferimenti all’ultimo minuto"]
        },
        stay: {
          title: "Dove dormire",
          lead: "Una lista di zone e hotel. Inviaci i link e completiamo tutto qui.",
          zones_label: "Zone",
          zones_title: "Scegli l’area più adatta",
          zones: ["Zona placeholder 1 (la cambieremo)", "Zona placeholder 2 (la cambieremo)", "Zona placeholder 3 (la cambieremo)"],
          hotels_label: "Hotel",
          hotels_title: "Link diretti",
          hotels_note: "Inseriremo la tua lista completa di hotel con i link.",
          hotels: ["Hotel placeholder (link)", "Hotel placeholder (link)", "Hotel placeholder (link)"],
          map_tip_label: "Opzionale",
          map_tip: "Se aggiungiamo una mappa con hotel, possiamo inserirla anche qui."
        },
        dress: {
          title: "Dress code",
          lead: "Elegante, moderno e comodo. Lo aggiorneremo quando definirete il dress code.",
          block1_label: "Lo stile",
          block1_title: "Editoriale, senza tempo",
          block1_text: "Qui andrà una breve descrizione. La allineeremo alle vostre indicazioni.",
          rules_label: "Linee guida",
          rules_title: "Cosa funziona meglio",
          do_label: "Da fare",
          dont_label: "Da evitare",
          do: ["Da fare: porta uno strato leggero per la sera", "Da fare: scarpe con cui puoi camminare e ballare"],
          dont: ["Da evitare: outfit troppo casual", "Da evitare: qualunque cosa scomoda per una giornata lunga"],
          extra: "Aggiungeremo un paio di immagini di riferimento quando ce le invierai."
        },
        rsvp: {
          title: "RSVP",
          lead: "Per favore conferma entro il <strong>31 gennaio 2026</strong>. Il +1 è possibile solo se indicato nell’invito.",
          premium_label: "RSVP premium",
          premium_title: "Conferma direttamente qui",
          premium_note: "Questo modulo invia la tua risposta al nostro Google Sheet privato tramite un endpoint sicuro di Google Apps Script.",
          authed: "Codice riconosciuto.",
          change_code: "Cambia codice",
          privacy_note: "Usiamo questi dati solo per gestire presenze e logistica.",
          deadline: "Scadenza: 31 gennaio 2026",
          submit: "Invia",
          fields: {
            code_label: "Codice invito",
            code_help: "Usa il codice del tuo invito. Ci aiuta a identificare gli ospiti e applicare la regola del +1.",
            name_label: "Nome e cognome",
            attendance_label: "Parteciperai?",
            attendance_placeholder: "Seleziona",
            attendance_yes: "Sì, ci sarò",
            attendance_no: "No, non riesco",
            diet_label: "Restrizioni alimentari",
            plusone_label: "Nome del +1",
            plusone_help: "Compare solo se il tuo invito include un +1."
          },
          status: {
            idle: "",
            endpoint_missing: "RSVP non è disponibile ora. Riprova più tardi.",
            missing_fields: "Compila il tuo nome e la tua presenza.",
            plus_one_not_allowed: "Questo invito non include un +1.",
            sending: "Invio…",
            sent: "Grazie. Abbiamo ricevuto la tua conferma.",
            generic_error: "Qualcosa è andato storto. Riprova tra poco."
          },
          details_label: "Da sapere",
          details_title: "Prima di inviare",
          details: ["Il codice abbina alla lista ospiti", "Il +1 appare solo se previsto", "Le restrizioni aiutano per la cena"],
          confirm_label: "Conferma",
          confirm_note: "Dopo l’invio vedrai subito un messaggio di conferma."
        },
        gifts: {
          title: "Regali",
          lead: "Un modo semplice e chiaro per contribuire. Ci invierai istruzioni e dettagli finali.",
          note_label: "Nota",
          note_title: "Grazie",
          note_text: "La vostra presenza è la cosa più importante. Se volete contribuire, i dettagli sono qui sotto.",
          iban_label: "IBAN",
          revolut_label: "Revolut",
          copy: "Copia",
          extra: "Sostituiremo i placeholder con i dettagli reali.",
          details_label: "Dettagli",
          details_title: "Istruzioni",
          bullets: ["Aggiungi una frase breve (opzionale).", "Aggiungi una causale (opzionale).", "Tienilo semplice e chiaro."]
        },
        footer: { left: "Ayse e Leonardo · Istanbul · 12 giugno 2026", top: "Torna su" }
      }
    };

    const DEFAULT_LANG = "en";

    const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzgCHPBnmEV36CaiMU58SFUHoOgZ7EiMqmOqObIzsQTBXO518JewQt0_0QGs1Y_Qd8Lcw/exec";

    function get(obj, path){
      return path.split('.').reduce((acc, k) => (acc && acc[k] !== undefined) ? acc[k] : undefined, obj);
    }

    function applyI18n(lang){
      const dict = T[lang] || T[DEFAULT_LANG];
      document.documentElement.lang = lang;

      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const val = get(dict, key);
        if (val === undefined) return;
        if (typeof val === 'string' && /<[^>]+>/.test(val)) el.innerHTML = val;
        else el.textContent = val;
      });

      document.querySelectorAll('.lang-btn').forEach(btn => {
        const isActive = btn.dataset.lang === lang;
        btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
      });

      try { localStorage.setItem('wedding_lang', lang); } catch(e) {}
    }

    function setHeaderHeightVar(){
      const header = document.getElementById('topbar');
      if (!header) return;
      const h = header.getBoundingClientRect().height;
      document.documentElement.style.setProperty('--header-h', `${Math.round(h)}px`);
    }

    function closeDrawer(){
      const drawer = document.getElementById('drawer');
      const btn = document.getElementById('menuBtn');
      if (!drawer || !btn) return;
      drawer.style.display = 'none';
      btn.setAttribute('aria-expanded', 'false');
    }

    async function copyFrom(id){
      const el = document.getElementById(id);
      if (!el) return;
      const text = (el.textContent || '').trim();
      try{ await navigator.clipboard.writeText(text); }
      catch(e){
        const t = document.createElement('textarea');
        t.value = text;
        t.style.position = 'fixed';
        t.style.left = '-9999px';
        document.body.appendChild(t);
        t.select();
        document.execCommand('copy');
        document.body.removeChild(t);
      }
    }

    async function lookupCode(code){
      if (!APPS_SCRIPT_URL) return null;
      const url = new URL(APPS_SCRIPT_URL);
      url.searchParams.set('action', 'lookup');
      url.searchParams.set('code', code);
      const res = await fetch(url.toString(), { method:'GET' });
      if (!res.ok) throw new Error('lookup_failed');
      return await res.json();
    }

    function setupGateAndRSVP(){
      const gate = document.getElementById('gate');
      const gateForm = document.getElementById('gateForm');
      const gateCode = document.getElementById('gateCode');
      const gateStatus = document.getElementById('gateStatus');
      const gateSubmit = document.getElementById('gateSubmit');

      const rsvpCodeHidden = document.getElementById('rsvpCodeHidden');
      const rsvpCodeBlock = document.getElementById('rsvpCodeBlock');
      const plusBlock = document.getElementById('plusOneBlock');
      const plusInput = document.getElementById('rsvpPlusOne');
      const changeCodeBtn = document.getElementById('changeCode');

      function tr(key){
        const lang = document.documentElement.lang || DEFAULT_LANG;
        return get(T[lang] || T[DEFAULT_LANG], key) || '';
      }

      function showGate(){
        if (!gate) return;
        gate.style.display = 'block';
        gate.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        if (gateStatus) gateStatus.textContent = '';
        if (gateCode) gateCode.value = '';
      }

      function hideGate(){
        if (!gate) return;
        gate.style.display = 'none';
        gate.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }

      function setGateStatus(text, bad){
        if (!gateStatus) return;
        gateStatus.textContent = text || '';
        gateStatus.style.color = bad ? 'rgba(160,30,30,.92)' : 'rgba(20,110,60,.92)';
      }

      function setPlusOneAllowed(allowed){
        if (!plusBlock || !plusInput) return;
        if (allowed){
          plusBlock.style.display = 'block';
          plusInput.disabled = false;
        } else {
          plusBlock.style.display = 'none';
          plusInput.value = '';
          plusInput.disabled = true;
        }
      }

      function setAuthedUI(code){
        if (rsvpCodeHidden) rsvpCodeHidden.value = code || '';
        if (rsvpCodeBlock) rsvpCodeBlock.style.display = code ? 'none' : 'block';
      }

      function saveAuth(code, plusAllowed){
        try{
          localStorage.setItem('wedding_code', code);
          localStorage.setItem('wedding_plus_one', plusAllowed ? 'true' : 'false');
        }catch(e){}
      }

      function clearAuth(){
        try{
          localStorage.removeItem('wedding_code');
          localStorage.removeItem('wedding_plus_one');
        }catch(e){}
        setAuthedUI('');
        setPlusOneAllowed(false);
      }

      function getSaved(){
        try{
          return {
            code: localStorage.getItem('wedding_code') || '',
            plusAllowed: localStorage.getItem('wedding_plus_one') === 'true'
          };
        }catch(e){
          return { code:'', plusAllowed:false };
        }
      }

      if (changeCodeBtn){
        changeCodeBtn.addEventListener('click', () => {
          clearAuth();
          showGate();
        });
      }

      if (gateForm){
        gateForm.addEventListener('submit', async (ev) => {
          ev.preventDefault();
          const code = (gateCode && gateCode.value ? gateCode.value : '').trim();
          if (!code){
            setGateStatus(tr('gate.status.missing'), true);
            return;
          }

          if (!APPS_SCRIPT_URL){
            setGateStatus(tr('gate.status.endpoint'), true);
            return;
          }

          gateSubmit && (gateSubmit.disabled = true);
          setGateStatus(tr('gate.status.checking'), false);

          try{
            const out = await lookupCode(code);
            if (!out || !out.ok){
              setGateStatus(tr('gate.status.invalid'), true);
              return;
            }
            const plusAllowed = !!out.plus_one_allowed;
            saveAuth(code, plusAllowed);
            setAuthedUI(code);
            setPlusOneAllowed(plusAllowed);
            hideGate();
          }catch(e){
            setGateStatus(tr('gate.status.endpoint'), true);
          }finally{
            gateSubmit && (gateSubmit.disabled = false);
          }
        });
      }

      const saved = getSaved();
      if (saved.code){
        setAuthedUI(saved.code);
        setPlusOneAllowed(saved.plusAllowed);
        hideGate();
      } else {
        showGate();
      }
    }

    function setupPremiumRSVP(){
      const form = document.getElementById('rsvpForm');
      const status = document.getElementById('rsvpStatus');
      const plusBlock = document.getElementById('plusOneBlock');
      const plusInput = document.getElementById('rsvpPlusOne');
      const submitBtn = document.getElementById('rsvpSubmit');

      const codeHidden = document.getElementById('rsvpCodeHidden');
      const codeVisible = document.getElementById('rsvpCode');

      if (!form) return;

      function setStatus(key, tone){
        const lang = document.documentElement.lang || DEFAULT_LANG;
        const msg = get(T[lang] || T[DEFAULT_LANG], key) || "";
        status.innerHTML = msg;
        status.style.color = tone === 'bad' ? 'rgba(160,30,30,.92)' : (tone === 'good' ? 'rgba(20,110,60,.92)' : 'rgba(17,17,19,.68)');
      }

      function setPlusOneAllowed(allowed){
        if (!plusBlock || !plusInput) return;
        if (allowed){
          plusBlock.style.display = 'block';
          plusInput.disabled = false;
        } else {
          plusBlock.style.display = 'none';
          plusInput.value = '';
          plusInput.disabled = true;
        }
      }

      form.addEventListener('submit', async (ev) => {
        ev.preventDefault();

        const hp = form.querySelector('input[name="company"]');
        if (hp && hp.value) return;

        if (!APPS_SCRIPT_URL){
          setStatus('rsvp.status.endpoint_missing', 'bad');
          return;
        }

        const code = (codeHidden && codeHidden.value ? codeHidden.value : '').trim() || (codeVisible && codeVisible.value ? codeVisible.value : '').trim();
        const name = (form.name.value || '').trim();
        const attendance = (form.attendance.value || '').trim();
        const diet = (form.diet.value || '').trim();
        const plusOneName = (form.plus_one_name && !form.plus_one_name.disabled) ? (form.plus_one_name.value || '').trim() : '';

        if (!name || !attendance){
          setStatus('rsvp.status.missing_fields', 'bad');
          return;
        }

        if (!code){
          setStatus('rsvp.status.endpoint_missing', 'bad');
          return;
        }

        submitBtn.disabled = true;
        submitBtn.style.opacity = '.75';
        setStatus('rsvp.status.sending', '');

        try{
          const payload = {
            ts: new Date().toISOString(),
            code,
            name,
            attendance,
            diet,
            plus_one_name: plusOneName,
            lang: document.documentElement.lang || DEFAULT_LANG,
            user_agent: navigator.userAgent || ''
          };

          const res = await fetch(APPS_SCRIPT_URL, {
            method:'POST',
            headers:{ 'Content-Type':'text/plain;charset=utf-8' },
            body: JSON.stringify(payload)
          });

          if (!res.ok) throw new Error('submit_failed');
          const out = await res.json();

          if (!out || !out.ok){
            const reason = out && out.reason ? String(out.reason) : '';
            if (reason === 'plus_one_not_allowed') setStatus('rsvp.status.plus_one_not_allowed', 'bad');
            else setStatus('rsvp.status.generic_error', 'bad');
            return;
          }

          setStatus('rsvp.status.sent', 'good');
          form.reset();
          setPlusOneAllowed(false);
          if (codeHidden) codeHidden.value = code;
        }catch(e){
          setStatus('rsvp.status.generic_error', 'bad');
        }finally{
          submitBtn.disabled = false;
          submitBtn.style.opacity = '1';
        }
      });

      setStatus('rsvp.status.idle', '');
      setPlusOneAllowed(false);
    }

    function setupMenu(){
      const btn = document.getElementById('menuBtn');
      const drawer = document.getElementById('drawer');
      if (btn && drawer){
        btn.addEventListener('click', () => {
          const isOpen = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
          drawer.style.display = isOpen ? 'none' : 'block';
          setHeaderHeightVar();
        });
      }

      document.querySelectorAll('#drawer a, .nav a').forEach(a => {
        a.addEventListener('click', () => {
          closeDrawer();
          setTimeout(setHeaderHeightVar, 50);
        });
      });
    }

    function setupCopyButtons(){
      document.querySelectorAll('[data-copy]').forEach(b => {
        b.addEventListener('click', () => copyFrom(b.getAttribute('data-copy')));
      });
    }

    function setGoogleMapsEmbed(embedUrl){
      const iframe = document.getElementById('mapsEmbed');
      const ph = document.getElementById('mapsEmbedPlaceholder');
      if (!iframe || !ph) return;
      if (!embedUrl) return;
      iframe.src = embedUrl;
      iframe.style.display = 'block';
      ph.style.display = 'none';
    }

    (function init(){
      setHeaderHeightVar();
      window.addEventListener('resize', setHeaderHeightVar, { passive:true });

      let initial = DEFAULT_LANG;
      try{
        const saved = localStorage.getItem('wedding_lang');
        if (saved && T[saved]) initial = saved;
      }catch(e){}
      applyI18n(initial);

      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          applyI18n(btn.dataset.lang);
          const gateStatus = document.getElementById('gateStatus');
          if (gateStatus) gateStatus.textContent = '';
        });
      });

      setupMenu();
      setupCopyButtons();
      setupGateAndRSVP();
      setupPremiumRSVP();

      // Optional: set venue links
      // document.getElementById('mapsLink').href = 'PASTE_GOOGLE_MAPS_URL';
      // document.getElementById('venueLink').href = 'PASTE_VENUE_WEBSITE_URL';

      // Optional: embed map
      // setGoogleMapsEmbed('PASTE_GOOGLE_MAPS_EMBED_URL');

      // Optional: set images
      // document.documentElement.style.setProperty('--hero-img', "url('PASTE_HERO_IMAGE_URL')");
      // document.getElementById('scheduleImg').style.backgroundImage = "url('PASTE_SCHEDULE_IMAGE_URL')";
      // document.getElementById('venueImg').style.backgroundImage = "url('PASTE_VENUE_IMAGE_URL')";
      // document.getElementById('arrivalImg').style.backgroundImage = "url('PASTE_ARRIVAL_IMAGE_URL')";
      // document.getElementById('tipsImg').style.backgroundImage = "url('PASTE_TIPS_IMAGE_URL')";
      // document.getElementById('stayImg').style.backgroundImage = "url('PASTE_STAY_IMAGE_URL')";
      // document.getElementById('dressImg1').style.backgroundImage = "url('PASTE_DRESS_IMAGE_URL')";
      // document.getElementById('rsvpImg').style.backgroundImage = "url('PASTE_RSVP_IMAGE_URL')";
      // document.getElementById('giftsImg').style.backgroundImage = "url('PASTE_GIFTS_IMAGE_URL')";
    })();
  </script>
</body>
</html>
